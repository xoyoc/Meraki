<!-- password_reset.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Recuperar Contraseña | Meraki - Capital Humano en Acción{% endblock %}

{% block extra_css %}
<style>
    .auth-gradient {
        background: linear-gradient(135deg, #8b7fb8 0%, #a78bfa 50%, #c4b5fd 100%);
    }
    
    .auth-card {
        backdrop-filter: blur(10px);
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 25px 50px -12px rgba(139, 127, 184, 0.25);
    }
    
    .form-input {
        transition: all 0.3s ease;
    }
    
    .form-input:focus {
        transform: translateY(-1px);
        box-shadow: 0 10px 25px rgba(139, 127, 184, 0.15);
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
    }
    
    .floating-element {
        animation: float 6s ease-in-out infinite;
    }
</style>
{% endblock %}

{% block content %}
<div class="min-h-screen auth-gradient flex flex-col justify-center py-12 sm:px-6 lg:px-8 relative overflow-hidden">
    <!-- Elementos decorativos -->
    <div class="absolute top-20 left-10 w-20 h-20 bg-white opacity-10 rounded-full floating-element"></div>
    <div class="absolute top-40 right-20 w-16 h-16 bg-white opacity-15 rounded-full floating-element" style="animation-delay: 2s;"></div>
    <div class="absolute bottom-20 left-1/4 w-12 h-12 bg-white opacity-20 rounded-full floating-element" style="animation-delay: 4s;"></div>
    
    <div class="relative sm:mx-auto sm:w-full sm:max-w-md">
        <!-- Logo y título -->
        <div class="text-center mb-8">
            <div class="mx-auto h-16 w-16 bg-white rounded-2xl flex items-center justify-center shadow-lg mb-4">
                <i class="fas fa-key text-meraki-600 text-2xl"></i>
            </div>
            <h2 class="text-3xl font-bold text-white mb-2">
                ¿Olvidaste tu contraseña?
            </h2>
            <p class="text-lg text-white opacity-90">
                No te preocupes, te ayudamos a recuperarla
            </p>
        </div>

        <!-- Formulario -->
        <div class="auth-card rounded-2xl p-8 border border-white border-opacity-20">
            <div class="mb-6">
                <div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-envelope text-white text-xl"></i>
                </div>
                <p class="text-gray-600 text-center">
                    Ingresa tu correo electrónico y te enviaremos un enlace para restablecer tu contraseña.
                </p>
            </div>
            
            <form method="post" class="space-y-6" id="resetForm">
                {% csrf_token %}
                
                <!-- Email -->
                <div>
                    <label for="id_email" class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-envelope text-meraki-600 mr-2"></i>
                        Correo Electrónico
                    </label>
                    <input type="email" name="email" required 
                           class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-meraki-500 focus:border-meraki-500 transition-colors duration-200" 
                           placeholder="correo@ejemplo.com" autofocus>
                </div>

                <!-- Botón de envío -->
                <div>
                    <button type="submit" class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-meraki-600 to-meraki-500 hover:from-meraki-700 hover:to-meraki-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-meraki-500 transition-all duration-200 transform hover:scale-105" id="submitBtn">
                        <span class="absolute left-0 inset-y-0 flex items-center pl-3">
                            <i class="fas fa-paper-plane text-meraki-300 group-hover:text-meraki-200 transition-colors" id="submitIcon"></i>
                        </span>
                        <span id="submitText">Enviar Enlace de Recuperación</span>
                    </button>
                </div>
            </form>

            <!-- Enlaces adicionales -->
            <div class="mt-6 text-center space-y-3">
                <div>
                    <a href="{% url 'accounts:login' %}" class="text-meraki-600 hover:text-meraki-700 font-medium text-sm">
                        <i class="fas fa-arrow-left mr-2"></i>
                        Volver al inicio de sesión
                    </a>
                </div>
                <div>
                    <p class="text-sm text-gray-600">
                        ¿No tienes una cuenta?
                        <a href="{% url 'accounts:signup' %}" class="text-meraki-600 hover:text-meraki-700 font-medium ml-1">
                            Regístrate gratis
                        </a>
                    </p>
                </div>
            </div>
        </div>

        <!-- Información adicional -->
        <div class="mt-8 text-center">
            <div class="bg-white bg-opacity-20 rounded-xl p-4 text-white text-sm">
                <div class="flex items-center justify-center mb-2">
                    <i class="fas fa-info-circle mr-2"></i>
                    <span class="font-medium">¿Necesitas ayuda?</span>
                </div>
                <p class="opacity-90">
                    Si no recibes el correo en unos minutos, revisa tu carpeta de spam o 
                    <a href="{% url 'core:contact' %}" class="underline hover:no-underline">
                        contáctanos
                    </a>.
                </p>
            </div>
        </div>
    </div>
</div>

<script>
// Form submission handling
document.getElementById('resetForm').addEventListener('submit', function(e) {
    const submitBtn = document.getElementById('submitBtn');
    const submitText = document.getElementById('submitText');
    const submitIcon = document.getElementById('submitIcon');
    
    // Cambiar estado del botón
    submitBtn.disabled = true;
    submitText.textContent = 'Enviando...';
    submitIcon.classList.remove('fa-paper-plane');
    submitIcon.classList.add('fa-spinner', 'fa-spin');
    submitBtn.classList.add('opacity-75');
});
</script>
{% endblock %}